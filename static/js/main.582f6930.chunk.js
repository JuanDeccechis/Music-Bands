(this["webpackJsonpmusic-bands"]=this["webpackJsonpmusic-bands"]||[]).push([[0],{31:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(22),c=n.n(s),r=(n(43),n(44),n(20)),o=n(5),l=n(6),h=n(9),d=n(8),u=n(7),j=n(14),b=n(4),m=(n(45),n(33)),p=n.n(m),O=n(21),g=n.n(O),v=n(34),x=n.n(v),f=n(1),y=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.isLogged;return Object(f.jsxs)("ul",{className:"nav",children:[Object(f.jsx)("li",{children:Object(f.jsxs)(j.b,{exact:!0,to:"/",className:"link",activeClassName:"active",children:[" ",Object(f.jsx)(p.a,{className:"icon"})," "]})}),Object(f.jsx)("li",{children:e?Object(f.jsxs)(j.b,{to:"/account",className:"link",activeClassName:"active",children:[" ",Object(f.jsx)(x.a,{className:"icon"})," "]}):Object(f.jsxs)(j.b,{to:"/login",className:"link",activeClassName:"active",children:[" ",Object(f.jsx)(g.a,{className:"icon"})," "]})})]})}}]),n}(a.Component),N=n(23),k=n(35),C=n.n(k),L=(n(71),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={bands:null,albums:null,genre:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getDataFromApi("bands"),this.getDataFromApi("albums"),this.getDataFromApi("genre")}},{key:"getDataFromApi",value:function(e){var t=this;fetch("".concat(localStorage.getItem("APIURL"),"/").concat(e)).then((function(e){return e.json()})).then((function(n){t.setState(Object(N.a)({},e,n))}))}},{key:"render",value:function(){var e=this.state,t=e.bands,n=e.albums,a=e.genre;return t&&n&&a?Object(f.jsxs)("article",{className:"container",children:[Object(f.jsx)("p",{className:"example-text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore sed provident cupiditate vitae commodi quae, earum autem quaerat! Praesentium quis distinctio incidunt fugit, facilis odio illo quam error culpa nemo!"}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)("div",{className:"results",children:t&&Object(f.jsx)("ul",{children:t.map((function(e,t){return Object(f.jsxs)("li",{children:[" ",e.id," , ",e.name," , ",e.genreCode,", ",e.year,", ",e.country,", "]},t)}))})})}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)("div",{className:"results",children:n&&Object(f.jsx)("ul",{children:n.map((function(e,t){return Object(f.jsxs)("li",{children:[" ",e.id," , ",e.bandId,", ",e.name," , ",e.year]},t)}))})})}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)("div",{className:"results",children:a&&Object(f.jsx)("ul",{children:a.map((function(e,t){return Object(f.jsxs)("li",{children:[" ",e.code," , ",e.name]},t)}))})})})]}):Object(f.jsx)(C.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,className:"loader"})}}]),n}(a.Component)),S=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={value:"",error:""},a.handleKeyPress=a.handleKeyPress.bind(Object(h.a)(a)),a.handleChangeInput=a.handleChangeInput.bind(Object(h.a)(a)),a.validateInput=a.validateInput.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleChangeInput",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({value:n})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())}},{key:"validateInput",value:function(e){var t=this.props.hasError,n=e.target,a=e.target.name,i=null;switch(!0){case!n.value:i="".concat(a," is empty.");break;case t:i="Wrong ".concat(a,".");break;case n.minLength>-1&&n.value.length<n.minLength:i="Your ".concat(a," must contains at least ").concat(n.minLength," characters.");break;case n.maxLength>-1&&n.value.length>n.maxLength:i="Your ".concat(a," must contains up to ").concat(n.maxLength," characters.");break;default:i=null}this.setState({error:i})}},{key:"render",value:function(){var e=this.state.error,t=this.props,n=t.placeholder,a=t.name,s=t.minLength,c=t.maxLength,r=t.type,o=t.className,l=[];return this.props.children&&(l=i.a.Children.map(this.props.children,(function(t){return i.a.cloneElement(t,{className:"".concat(t.props.className," ").concat(e?"with-error error-text":"")})}))),Object(f.jsxs)("div",{className:"input-icons",children:[this.props.children&&l[0],Object(f.jsx)("input",{id:a,name:a,ref:a,className:"input-with-padding ".concat(null===e?"valid":e?"error":""," ").concat(o||""),type:r,placeholder:"".concat(n||a,"*"),required:!0,minLength:s,maxLength:c,value:this.state.value,onChange:this.handleChangeInput,onKeyPress:this.handleKeyPress,onBlur:this.validateInput}),l[1],e&&Object(f.jsx)("span",{className:"error-text",children:e})]})}}]),n}(a.Component),P=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClickAfterValidations=a.handleClickAfterValidations.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleClickAfterValidations",value:function(){var e=document.querySelectorAll(".error"),t=document.querySelectorAll(".valid"),n=document.querySelectorAll(".input-with-padding");(!e||0===e.length&&t.length===n.length)&&this.props.handleClick()}},{key:"render",value:function(){var e=this.props.disabled;return Object(f.jsx)(f.Fragment,{children:e?Object(f.jsx)("button",{disabled:!0,className:"".concat(this.props.className," disabled"),children:this.props.text}):Object(f.jsx)("button",{className:this.props.className,onClick:this.handleClickAfterValidations,children:this.props.text})})}}]),n}(a.Component),w=(n(31),n(25)),F=n.n(w),I=n(27),D=n.n(I),V=n(26),A=n.n(V),R=n(36),q=n.n(R),M=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={visibilityPassword:!1,firstTry:!0,remember:!1},a.handleChangeVisibilityPassword=a.handleChangeVisibilityPassword.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleSubmitForm=a.handleSubmitForm.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleChangeVisibilityPassword",value:function(){this.setState({visibilityPassword:!this.state.visibilityPassword})}},{key:"handleSubmit",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.changePath()}},{key:"handleSubmitForm",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState({firstTry:!1})}},{key:"changePath",value:function(){var e=document.querySelector("#Username");if(e&&e.value){this.props.handleLogin(e.value);this.props.history.push("/")}}},{key:"render",value:function(){var e=this,t=this.state,n=t.visibilityPassword,a=t.remember;return Object(f.jsx)("form",{action:"",method:"post",className:"form-container login-form",onSubmit:this.handleSubmitForm,children:Object(f.jsxs)("div",{className:"login-form-container",children:[Object(f.jsx)(S,{name:"Username",minLength:"0",maxLength:"20",type:"text",children:Object(f.jsx)(g.a,{className:"icon icon-color"})}),Object(f.jsxs)(S,{name:"Password",type:n?"text":"password",children:[Object(f.jsx)(F.a,{className:"icon icon-color"}),n?Object(f.jsx)(A.a,{className:"icon icon-color right",onClick:this.handleChangeVisibilityPassword}):Object(f.jsx)(D.a,{className:"icon icon-color right",onClick:this.handleChangeVisibilityPassword})]}),Object(f.jsxs)("div",{className:"espaciado login-links-container",children:[Object(f.jsxs)("div",{className:"checkbox-container",onClick:function(){e.setState({remember:!e.state.remember})},children:[a?Object(f.jsx)(q.a,{className:"icon-color"}):Object(f.jsx)("div",{className:"checkbox-circle"}),Object(f.jsx)("label",{htmlFor:"checkbox",className:"checkbox-label",children:"Remember me"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(j.b,{to:"/login/recoveryPassword",className:"forgot-password",activeClassName:"",children:Object(f.jsx)("span",{children:"Forgot Password"})})})]}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)(P,{className:"principal",handleClick:this.handleSubmit,text:"Log in"})}),Object(f.jsx)("div",{className:"login-register-container espaciado",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"I haven't accounts "}),Object(f.jsx)(j.b,{to:"/register",activeClassName:"",children:Object(f.jsx)("span",{children:"Register"})})]})})]})})}}]),n}(a.Component),z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(f.jsx)("article",{className:"container",children:Object(f.jsxs)("div",{className:"login-page-global-container",children:[Object(f.jsx)("h1",{children:"Log in"}),Object(f.jsx)(M,{history:this.props.history,location:this.props.location,handleLogin:this.props.handleLogin})]})})}}]),n}(a.Component),E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleSubmit",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.changePath()}},{key:"changePath",value:function(){this.props.handleLogout();this.props.history.push("/")}},{key:"render",value:function(){return Object(f.jsxs)("article",{className:"container",children:[Object(f.jsxs)("h1",{children:["Hi ",localStorage.getItem("username")]}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)(P,{className:"principal",handleClick:this.handleSubmit,text:"Close"})})]})}}]),n}(a.Component),T=n(37),U=n.n(T),K=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={visibilityPassword:!1,firstTry:!0,remember:!1},a.handleChangeVisibilityPassword=a.handleChangeVisibilityPassword.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleSubmitForm=a.handleSubmitForm.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleChangeVisibilityPassword",value:function(){this.setState({visibilityPassword:!this.state.visibilityPassword})}},{key:"handleSubmit",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.changePath()}},{key:"handleSubmitForm",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState({firstTry:!1})}},{key:"changePath",value:function(){this.props.handleLogin();this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.visibilityPassword;e.remember;return Object(f.jsx)("form",{action:"",method:"post",className:"form-container login-form",onSubmit:this.handleSubmitForm,children:Object(f.jsxs)("div",{className:"login-form-container",children:[Object(f.jsx)(S,{name:"Username",minLength:"0",maxLength:"20",type:"text",children:Object(f.jsx)(g.a,{className:"icon icon-color"})}),Object(f.jsx)(S,{name:"Email",minLength:"0",maxLength:"20",type:"text",children:Object(f.jsx)(U.a,{className:"icon icon-color"})}),Object(f.jsxs)(S,{name:"Password",type:t?"text":"password",children:[Object(f.jsx)(F.a,{className:"icon icon-color"}),t?Object(f.jsx)(A.a,{className:"icon icon-color right",onClick:this.handleChangeVisibilityPassword}):Object(f.jsx)(D.a,{className:"icon icon-color right",onClick:this.handleChangeVisibilityPassword})]}),Object(f.jsx)("div",{className:"espaciado",children:Object(f.jsx)(P,{className:"principal",handleClick:this.handleSubmit,text:"Register"})}),Object(f.jsx)("div",{className:"login-register-container espaciado",children:Object(f.jsx)("div",{children:Object(f.jsx)(j.b,{to:"/login",activeClassName:"",children:Object(f.jsx)("span",{children:"I have an account"})})})})]})})}}]),n}(a.Component),B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(f.jsx)("article",{className:"container",children:Object(f.jsxs)("div",{className:"login-page-global-container",children:[Object(f.jsx)("h1",{children:"Register"}),Object(f.jsx)(K,{history:this.props.history,location:this.props.location,handleLogin:this.props.handleLogin})]})})}}]),n}(a.Component),W=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggleLogin=function(e){var t=a.state.isLogged;localStorage.setItem("isLogged",!t),localStorage.setItem("username",e),a.setState({isLogged:!t,username:e})},a.state={width:window.innerWidth,isLogged:!1,username:""},a.handleResize=a.handleResize.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleResize",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLogged,a=t.width;return Object(f.jsx)("div",{className:"router",children:Object(f.jsxs)(j.a,{basename:"/Music-bands",children:[Object(f.jsx)(y,{isMobile:!(a>=992),isLogged:n}),n?Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{exact:!0,path:"/",component:L}),Object(f.jsx)(b.a,{path:"/account",component:function(t){return Object(f.jsx)(E,Object(r.a)(Object(r.a)({},t),{},{handleLogout:e.toggleLogin}))}})]}):Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{exact:!0,path:"/register",component:function(t){return Object(f.jsx)(B,Object(r.a)(Object(r.a)({},t),{},{handleLogin:e.toggleLogin}))}}),Object(f.jsx)(b.a,{path:"/",component:function(t){return Object(f.jsx)(z,Object(r.a)(Object(r.a)({},t),{},{handleLogin:e.toggleLogin}))}})]})]})})}}]),n}(a.Component);var J=function(){return localStorage.setItem("isLogged","false"),localStorage.setItem("APIURL","https://my-json-server.typicode.com/improvein/dev-challenge"),Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(W,{})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(J,{})}),document.getElementById("root")),Y()}},[[73,1,2]]]);
//# sourceMappingURL=main.582f6930.chunk.js.map